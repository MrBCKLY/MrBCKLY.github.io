<!DOCTYPE html>
<html>
    <head>
        <title>WOD Generator</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            .center {
                padding: 70px 0;
                text-align: center;
            }

            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            }

            h1 {
                font-size: 3.5em;
            }

            p {
                font-size: 1.5em;
            }

            h5 {
                color: #d1d1d1;
            }
        </style>
    </head>
    <body>
        <div class="center" id="workout">
            <h5>Workout of the day</h5>
        </div>
        <script>
            function shuffle(array) {
                var currentIndex = array.length, temporaryValue, randomIndex;
                // While there remain elements to shuffle...
                while (0 !== currentIndex) {
                    // Pick a remaining element...
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex -= 1;

                    // And swap it with the current element.
                    temporaryValue = array[currentIndex];
                    array[currentIndex] = array[randomIndex];
                    array[randomIndex] = temporaryValue;
                }
                return array;
            }

            var pushList = ["Push Ups", "8KG Overhead Press", "16KG Shoulder Press", "8KG Clean and Press"];
            var pullList = ["8KG Hammer Curl", "8KG Upright Row", "8KG Front Raise"];
            var fullList = ["8KG Kettlebell Swing", "8KG Thruster", "Burpees", "16KG Squat", "Sit-Up"];

            function chooseMoves(amount) {
                if(amount == 1) {
                    var tempList = pushList.concat(pullList, fullList);
                    var randomMoves = [tempList[Math.floor(Math.random() * tempList.length)]];
                    return randomMoves;
                }
                else if(amount == 2) {
                    var pushOrPull = Math.floor(Math.random() * 2);
                    if(pushOrPull == 0) {
                        pushList = pushList.concat(fullList);
                    }
                    else {
                        pullList = pullList.concat(fullList);
                    }
                    var randomMoves = [pushList[Math.floor(Math.random() * pushList.length)], pullList[Math.floor(Math.random() * pullList.length)]];
                    return shuffle(randomMoves);
                }
                else if(amount == 3) {
                    var randomMoves = [pushList[Math.floor(Math.random() * pushList.length)], pullList[Math.floor(Math.random() * pullList.length)], fullList[Math.floor(Math.random() * fullList.length)]];
                    return shuffle(randomMoves);
                }
            }

            function addToScreen(list) {
                for(i = 0; i < list.length; i++) {
                    console.log(list[i]);
                    if(i == 0) {
                        var heading = document.createElement("H1");
                        heading.innerHTML = list[i];
                        document.getElementById("workout").appendChild(heading);
                    }
                    else {
                        var paragraph = document.createElement("P");
                        paragraph.innerHTML = list[i];
                        document.getElementById("workout").appendChild(paragraph);
                    }
                }
            }

            function chooseWorkout() {
                var randomNumber = Math.floor(Math.random() * 6);
                switch(randomNumber) {
                    case 0:
                        workout = ["21-15-9"].concat(chooseMoves(2));
                        addToScreen(workout);
                        break;
                    case 1: 
                        workout = ["50 in a row"].concat(chooseMoves(2));
                        addToScreen(workout);
                        break;
                    case 2: 
                        workout = ["100 in a row"].concat(chooseMoves(1));
                        addToScreen(workout);
                        break;
                    case 3:
                        workout = ["EMOM 20, 1 to 10 to 1"].concat(chooseMoves(1));
                        addToScreen(workout);
                        break;
                    case 4:
                        workout = ["10-9-8-7-6-5-4-3-2-1"].concat(chooseMoves(2));
                        addToScreen(workout);
                        break;
                    case 5:
                        workout = ["3 rounds, 3 moves, 10 reps"].concat(chooseMoves(3));
                        addToScreen(workout);
                        break;
                }
            }

            chooseWorkout();
        </script>
    </body>
</html>